<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.14.3"/><meta name="description" content="In recent weeks at Lonely Planet we’ve embarked on a fresh application using Next.js. It’s exciting to work on something so bleeding edge…" data-gatsby-head="true"/><meta property="og:title" content="The nine circles of npm dependency hell" data-gatsby-head="true"/><meta name="og:description" content="In recent weeks at Lonely Planet we’ve embarked on a fresh application using Next.js. It’s exciting to work on something so bleeding edge…" data-gatsby-head="true"/><meta property="og:url" content="undefined/dependency-hell/" data-gatsby-head="true"/><meta property="og:type" content="website" data-gatsby-head="true"/><meta property="og:site_name" content="Russell J. Anderson" data-gatsby-head="true"/><meta property="og:image" content="https://images.unsplash.com/photo-1542666594-15c7b33d17ac?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=M3wxOTM5NHwwfDF8Y29sbGVjdGlvbnwxM3wxNTc4NTA4fHx8fHwyfHwxNzQ0ODI3MDcwfA&amp;ixlib=rb-4.0.3&amp;q=80&amp;w=400" data-gatsby-head="true"/><meta name="twitter:image" content="https://images.unsplash.com/photo-1542666594-15c7b33d17ac?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=M3wxOTM5NHwwfDF8Y29sbGVjdGlvbnwxM3wxNTc4NTA4fHx8fHwyfHwxNzQ0ODI3MDcwfA&amp;ixlib=rb-4.0.3&amp;q=80&amp;w=400" data-gatsby-head="true"/><meta name="twitter:image:alt" content="Russell J. Anderson, Software Engineer" data-gatsby-head="true"/><style data-href="/styles.9efaaa94be5fb511d478.css" data-identity="gatsby-global-css">@import url(https://fonts.googleapis.com/css?family=Lato:400,700|Merriweather:400,400i,700,700i);
/*! normalize.css v3.0.2 | MIT License | git.io/normalize */html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:sans-serif}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-spacing:0}td,th{padding:0}.button,html .button{-webkit-font-smoothing:antialiased;appearance:none;-webkit-appearance:none;background-color:#96a63e;border:0;border-radius:3px;color:#fff;cursor:pointer;display:inline-block;font-family:Lato,sans-serif;font-size:1em;font-weight:600;line-height:1;padding:.75em 1.5em;text-decoration:none;transition:background-color .15s ease;-webkit-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.button:focus,.button:hover,html .button:focus,html .button:hover{background-color:#788532;color:#fff}.button:disabled,html .button:disabled{cursor:not-allowed;opacity:.5}.button:disabled:hover,html .button:disabled:hover{background-color:#96a63e}table{font-feature-settings:"kern","liga","tnum";border-collapse:collapse;margin:.75em 0;table-layout:fixed;width:100%}th{border-bottom:1px solid #2d4b65;font-weight:600;text-align:left}td,th{padding:.75em 0}td{border-bottom:1px solid #3c6487}td,th,tr{vertical-align:middle}body{font-feature-settings:"kern","liga","pnum";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#4e4f48;font-family:Merriweather,serif;font-size:1em;line-height:1.5}h1,h2,h3,h4,h5,h6{font-family:Lato,sans-serif;font-size:1em;line-height:1.2;margin:0 0 .75em}p{margin:0 0 .75em}a{color:#96a63e;text-decoration:none;transition:color .15s ease}a:active,a:focus,a:hover{color:#717d2f}hr{border:0;border-bottom:1px solid #3c6487;margin:1.5em 0}img,picture{margin:0;max-width:100%}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}li>p{margin-bottom:0}.blue{color:#3c6487}body{background-color:#05100e}.wrapper{margin-left:auto;margin-right:auto;max-width:68em}.wrapper:after{clear:both;content:"";display:table}@media screen and (min-width:600px){.banner{background-position:50%;background-repeat:no-repeat;background-size:cover;padding-top:30%}}.social_icons a{display:inline-block;height:40px;margin-right:.5rem;width:40px}.social_icons a img{display:block;max-width:100%}.social_icons a.github{padding:6px}.container{display:block;float:left;margin-right:2.3576515979%;width:100%}.container:last-child{margin-right:0}.header_wrapper{overflow:hidden;padding:1rem 2rem}@media screen and (min-width:900px){.header_wrapper{display:block;float:left;margin-right:2.3576515979%;padding:2rem;width:23.2317613015%}.header_wrapper:last-child{margin-right:0}}.content_wrapper{background-color:#f3f2f4;padding:1rem}@media screen and (min-width:900px){.content_wrapper{display:block;float:left;margin-right:2.3576515979%;padding:2rem;width:74.4105871005%}.content_wrapper:last-child{margin-right:0}}.content{margin-bottom:3rem}@media screen and (min-width:900px){.content{display:block;float:left;margin-right:2.3576515979%;width:57.3509785009%}.content:last-child{margin-right:0}.positions{display:block;float:left;margin-left:8.5298042998%;margin-right:2.3576515979%;width:31.7615656014%}.positions:last-child{margin-right:0}}.show_wrapper{position:relative}@media screen and (min-width:900px){.show_wrapper{display:block;float:left;margin-left:8.5298042998%;margin-right:2.3576515979%;width:82.9403914003%}.show_wrapper:last-child{margin-right:0}}.show_wrapper img{max-width:100%}.bio{font-size:.85rem}.bio p{margin-bottom:2rem}.bio-pic{border-radius:30%;display:block;margin:0 auto;width:150px}.title{color:#f3f2f4;font-size:2rem}@media screen and (min-width:600px){.title{font-size:3rem}}.title a{color:#f3f2f4}.blog_post h1,.subtitle{color:#3c6487;font-size:2rem;font-weight:400;margin-bottom:3rem}blockquote{border-left:4px solid #96a63e;margin:0 1rem .75rem;padding-left:1rem}@media screen and (min-width:600px){blockquote{margin:0 2.5rem .75rem}}.blog_post h2,.blog_post h3,.blog_post h4,.blog_post h5,.blog_post h6,.status{color:#3c6487;font-size:1.25rem;font-weight:400;margin-top:3rem}.role{padding-left:1rem}.role h4{margin:1rem 0 .25rem}.description{font-size:14px}.contact{margin-top:3rem;text-align:center}.mobile_photo{margin:-1rem -1rem 0}@media screen and (min-width:600px){.mobile_photo{display:none}}.blog_post h2{font-size:1.5rem}.blog_post h4{font-size:1.125rem}.blog_post h5,.blog_post h6{font-size:1rem}.blog_post p{text-align:justify}.blog_post p.photo_credit{margin-bottom:2rem;text-align:left}@media screen and (min-width:900px){.blog_post p.photo_credit{margin-top:-1.5rem}}</style><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-gatsby-head="true">The nine circles of npm dependency hell | Russell J. Anderson, Software Engineer</title><link rel="icon" type="image/png" href="https://s3-us-west-2.amazonaws.com/russelljanderson-dev/static/RJA-Badge.png" data-gatsby-head="true"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class=""><div class="banner" style="background-image:url(https://images.unsplash.com/photo-1542666594-15c7b33d17ac?crop=entropy&amp;cs=srgb&amp;fm=jpg&amp;ixid=M3wxOTM5NHwwfDF8Y29sbGVjdGlvbnwxM3wxNTc4NTA4fHx8fHwyfHwxNzQ0ODI3MDcwfA&amp;ixlib=rb-4.0.3&amp;q=85)"></div><div class="header_wrapper"><h3 class="title"><a href="/">Russell J. Anderson</a></h3><div class="social_icons"><a href="https://www.linkedin.com/in/russelljanderson"><img src="data:image/png;base64,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" alt="LinkedIn logo"/></a><a href="https://github.com/vacas5" class="github"><img src="/static/white-github-512-d25665d72e6212d5d81cddfc1fb14d28.png" alt="Octocat"/></a></div></div><div class="content_wrapper"><div class="content"><div class="blog_post"><div class="mobile_photo"><img src="https://images.unsplash.com/photo-1542666594-15c7b33d17ac?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=M3wxOTM5NHwwfDF8Y29sbGVjdGlvbnwxM3wxNTc4NTA4fHx8fHwyfHwxNzQ0ODI3MDcwfA&amp;ixlib=rb-4.0.3&amp;q=80&amp;w=1080" alt="Think colorful"/></div><p class="photo_credit"><small><em>Photo by<!-- --> <a href="https://unsplash.com/@cbarbalis">Chris Barbalis</a> <!-- -->from the fine service <a href="http://unsplash.com">Unsplash</a>.</em></small></p><h1>The nine circles of npm dependency hell</h1><p class="date_line"><em>February 13, 2019</em></p><div><p>In recent weeks at <a href="http://lonelyplanet.com">Lonely Planet</a> we’ve embarked on a fresh application using <a href="https://nextjs.org/">Next.js</a>. It’s exciting to work on something so bleeding edge, and it looks to be a helpful library.</p>
<p>We’re still setting up tooling, and we are already getting warnings from <a href="http://npmjs.org">npm</a> command line when we install. Certain open sources packages that we rely on themselves have outdated dependencies. Some of these we maintain and some of them we do not.</p>
<p>I’ve used this as an excuse to try and minimize the warnings coming from the packages we maintain by updating their dependencies. I’ve peered into the abyss, and I’m here to report that it can successfully be done, but it will leave one scarred.</p>
<p>I know I’ve written about this subject before, but it bears repeating.</p>
<h2 id="dependencies-are-tech-debt-by-nature" style="position:relative;"><a href="#dependencies-are-tech-debt-by-nature" aria-label="dependencies are tech debt by nature permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>dependencies are tech debt by nature</h2>
<p>The JavaScript ecosystem creates a special variety of dependency hell. The efforts to modularize code are worthwhile, as are efforts to rely on open source to not waste time solving already solved problems. But, JavaScript in particular has a huge community of developers, and is the entry point for a lot of people (myself included) into serious programming. Ever since the days of jQuery plugins we have often reached too quickly for someone else’s code.</p>
<p>I can’t directly control someone else’s code. I can contribute to open source projects, but those projects have to be maintained and PRs accepted. Often I rely on code that relies on code that relies on code that needs to be updated, and trying to contribute to that process and see it all the way to the end codebase is untenable.</p>
<p>Other people’s code can lead to <a href="https://snyk.io/blog/malicious-code-found-in-npm-package-event-stream/">major security vulnerabilites</a>. I should take great pains to minimize the dependencies I use. Even something as innocuous as left-pad can cause major problems.</p>
<p>Realistically, if I’m using a JS framework of some sort, I’ll have crazy dependencies. This personal blog is built with Gatsby, and as a result it already has 23,032 packages. Every one of those dependencies can be considered technical debt. Faster development now, for headaches down the road.</p>
<h2 id="the-process" style="position:relative;"><a href="#the-process" aria-label="the process permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The process</h2>
<p>I am going to use my personal blog as an example. I’ll start by installing</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">npm i</code></pre></div>
<p>I’m using node version 10.15.1 btw. npm 6.8.0. Here’s what that yields:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f76523ab09c739c800c237e8d611c4fa/5e6fc/initial_install.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 26.351351351351354%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABw5CQf//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEAAQUCf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAABD/2gAIAQEABj8Cf//EABYQAQEBAAAAAAAAAAAAAAAAAAEAEP/aAAgBAQABPyFJz//aAAwDAQACAAMAAAAQg8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAYEAEBAAMAAAAAAAAAAAAAAAABABEhMf/aAAgBAQABPxDY4YHZv//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="install results with warnings"
        title=""
        src="/static/f76523ab09c739c800c237e8d611c4fa/1c72d/initial_install.jpg"
        srcset="/static/f76523ab09c739c800c237e8d611c4fa/a80bd/initial_install.jpg 148w,
/static/f76523ab09c739c800c237e8d611c4fa/1c91a/initial_install.jpg 295w,
/static/f76523ab09c739c800c237e8d611c4fa/1c72d/initial_install.jpg 590w,
/static/f76523ab09c739c800c237e8d611c4fa/a8a14/initial_install.jpg 885w,
/static/f76523ab09c739c800c237e8d611c4fa/fbd2c/initial_install.jpg 1180w,
/static/f76523ab09c739c800c237e8d611c4fa/5e6fc/initial_install.jpg 2432w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<h3 id="npm-audit-fix" style="position:relative;"><a href="#npm-audit-fix" aria-label="npm audit fix permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>npm audit fix</h3>
<p>Let’s look at those last couple of lines, the one about how it “found 608 vulnerabilities (39 low, 556 moderate, 12 high, 1 critical)“. That sounds bad. So, it suggests I try to run <code class="language-text">npm audit</code> to fix. So, I’ll investigate what that <a href="https://docs.npmjs.com/cli/audit">actually does</a>.</p>
<p>So, the output of audit looks pretty intimidating. It shows me a fair amount of warnings in packages several levels deep. I’m going to make a commit to my package-lock.json right now, and then run <code class="language-text">npm audit fix</code> and see what happens.</p>
<p>Here’s what it says afterwards:</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">+ lodash@4.17.11
added 18 packages from 41 contributors, removed 35 packages, updated 4 packages and moved 3 packages in 12.762s
fixed 36 of 608 vulnerabilities in 28300 scanned packages
  8 package updates for 572 vulns involved breaking changes
  (use `npm audit fix --force` to install breaking changes; or refer to `npm audit` for steps to fix these manually)</code></pre></div>
<p>Taking a look at things, it made a LOT of changes to my package-lock.json but only one change to package.json. Conceivably, this would mean that the next time I run <code class="language-text">npm install</code>, it will go back to a vulnerable build again. I run my <code class="language-text">npm run dev</code> command though and everything seems to be peachy, even with all the dependency tree changes, so I am going to commit and proceed.</p>
<p>Okay so I tested running <code class="language-text">npm install</code> again and here’s what I got:
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1faba69bd8006b22f970855066f528d2/f7fe6/after_audit.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 17.567567567567565%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcWAqB//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAYEAACAwAAAAAAAAAAAAAAAAAAAREhMf/aAAgBAQABPyEarWSf/9oADAMBAAIAAwAAABB3z//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAQADAQEAAAAAAAAAAAAAAAEAETFRsf/aAAgBAQABPxBLXc7K16RTrP/Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="fewer warnings after audit"
        title=""
        src="/static/1faba69bd8006b22f970855066f528d2/1c72d/after_audit.jpg"
        srcset="/static/1faba69bd8006b22f970855066f528d2/a80bd/after_audit.jpg 148w,
/static/1faba69bd8006b22f970855066f528d2/1c91a/after_audit.jpg 295w,
/static/1faba69bd8006b22f970855066f528d2/1c72d/after_audit.jpg 590w,
/static/1faba69bd8006b22f970855066f528d2/a8a14/after_audit.jpg 885w,
/static/1faba69bd8006b22f970855066f528d2/fbd2c/after_audit.jpg 1180w,
/static/1faba69bd8006b22f970855066f528d2/f7fe6/after_audit.jpg 1258w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>That looks like progress. And, I don’t have any package-lock changes, so let’s continue moving forward!</p>
<h3 id="npm-outdated" style="position:relative;"><a href="#npm-outdated" aria-label="npm outdated permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>npm outdated</h3>
<p>Okay so I’ve got this warning about the “friendly-errors-webpack-plugin”, however, that is not listed in my package.json at all, so I’ll do some digging to see what depends on it. I can run <code class="language-text">npm ls friendly-errors-webpack-plugin</code> to find out where it is in the tree.</p>
<p>After running it tells me that it’s a dependency of ”<a href="mailto:gatsby@1.9.277">gatsby@1.9.277</a>”. I sort of knew I’d need to update all of gatsby to 2.0. It should be done anyway but this is definitely biting off a bit more.</p>
<p>So, the underlying issue here is that a package we rely on <code class="language-text">gatsby@1.9.277</code> depends on an old version of webpack, but depends on another package that expects a NEWER version of webpack. This is pervasive dependency hell, everyone.</p>
<p>To try and resolve, I am going to run <code class="language-text">npm outdated</code> and see if theres a minor fix or something I could use that might resolve the issue. Here’s what that looks like:
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/a8634c446246142651c3a66fdf0be729/3e5d7/outdated.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 77.02702702702703%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHhrIyK/8QAFxAAAwEAAAAAAAAAAAAAAAAAAQIQMf/aAAgBAQABBQIxtJjb/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8BJ//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABgQAQADAQAAAAAAAAAAAAAAAAEAEEEx/9oACAEBAAE/ITsMoCHSj//aAAwDAQACAAMAAAAQg8//xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAwEBPxBn/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qo//EABwQAAICAgMAAAAAAAAAAAAAAAABETEhcWGBof/aAAgBAQABPxBCTa9jOcnSL9CkqXPAngZdT//Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="output of npm outdated"
        title=""
        src="/static/a8634c446246142651c3a66fdf0be729/1c72d/outdated.jpg"
        srcset="/static/a8634c446246142651c3a66fdf0be729/a80bd/outdated.jpg 148w,
/static/a8634c446246142651c3a66fdf0be729/1c91a/outdated.jpg 295w,
/static/a8634c446246142651c3a66fdf0be729/1c72d/outdated.jpg 590w,
/static/a8634c446246142651c3a66fdf0be729/a8a14/outdated.jpg 885w,
/static/a8634c446246142651c3a66fdf0be729/3e5d7/outdated.jpg 1126w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>This is a very handy command. It shows you which version you’re on, the highest available minor/patch release under “Wanted” and then latest available major release under “Latest”. If you’re not on the Latest, you should consider upgrading, but you’re gonna have a bad time.</p>
<p>So, contrary to what you might expect, red means go, yellow means stop, and green is… non-existent. Packages in red should be able to be safely updated to the latest minor or patch version with trivial changes. I’ll try it. Running <code class="language-text">npm update gatsby</code> to get the patch updates. Now look what I get:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/64a4dcfeee45f60ff75c6dc12c977528/6d3de/after_gatsby_update.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 14.864864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAADABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAIDBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcWsIg//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAXEAEBAQEAAAAAAAAAAAAAAAABABFB/9oACAEBAAE/IXsrbf/aAAwDAQACAAMAAAAQA8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAXEAADAQAAAAAAAAAAAAAAAAABETEA/9oACAEBAAE/EGRMu3JU4kad/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="output showing more warnings"
        title=""
        src="/static/64a4dcfeee45f60ff75c6dc12c977528/1c72d/after_gatsby_update.jpg"
        srcset="/static/64a4dcfeee45f60ff75c6dc12c977528/a80bd/after_gatsby_update.jpg 148w,
/static/64a4dcfeee45f60ff75c6dc12c977528/1c91a/after_gatsby_update.jpg 295w,
/static/64a4dcfeee45f60ff75c6dc12c977528/1c72d/after_gatsby_update.jpg 590w,
/static/64a4dcfeee45f60ff75c6dc12c977528/a8a14/after_gatsby_update.jpg 885w,
/static/64a4dcfeee45f60ff75c6dc12c977528/fbd2c/after_gatsby_update.jpg 1180w,
/static/64a4dcfeee45f60ff75c6dc12c977528/6d3de/after_gatsby_update.jpg 2446w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>Well, damn! Now I have more warnings. This is wild. I’ll check and see if my app still works (it should). The app works great. Luckily it’s pretty basic, but imagine the regression testing I’d need to do on a complex application.</p>
<p>So, I went ahead and ran <code class="language-text">npm audit fix</code> again, and those other warnings went away! Not sure exactly how, but that’s a bonus. Still stuck with the “friendly-errors-webpack-plugin” error though.</p>
<h3 id="bumping-something-based-on-a-starter" style="position:relative;"><a href="#bumping-something-based-on-a-starter" aria-label="bumping something based on a starter permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>bumping something based on a starter</h3>
<p>Okay so as I suspected, I am going to have to bump Gatsby entirely. Checking out my outdated, you can see how many gatsby related dependencies I use. My guess is that most of these are going to need to be bumped simultaneously. This is going to be tricky if any of them don’t support the newer version of gatsby.</p>
<p>How does one even go about doing this? Well, I based this project off of a starter, <a href="https://github.com/noahg/gatsby-starter-blog-no-styles">gatsby-starter-blog-no-styles</a>, so I’m going to check and see if that starter project has updated it’s dependencies. Goodie, they have not. ARGH.</p>
<h3 id="updating-with-the-big-matzo-ball" style="position:relative;"><a href="#updating-with-the-big-matzo-ball" aria-label="updating with the big matzo ball permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>updating with the big matzo ball</h3>
<p>Failing that, I’m going to go to Gatsby’s page and look at my instructions for upgrading. Luckily, they are well documented in a <a href="https://www.gatsbyjs.org/docs/migrating-from-v1-to-v2/">blog post</a>.</p>
<p>I am going to basically have to go through this whole thing. I update all of my packages prefixed by <code class="language-text">gatsby</code> as well as gatsby itself, and I begin adding new peer dependencies.</p>
<p>All in all, this wasn’t so bad, but I had to make a number of changes to other files based on Gatsby’s upgrade. The plugins seemed to all work out of the box, thank goodness. One hangup that I hadn’t considered was that my code utilized the legacy React context API. So, I had to refactor all of that because <a href="mailto:gatsby@2.0">gatsby@2.0</a> relies on an updated version of React.</p>
<p>Pro-tip: have a lot of test coverage.</p>
<p>I am glad that I’m on the latest version. This is a good thing in the long run, and there are a lot of improvements I can take advantage of. You want to know the sad part though?
<span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/7363e04eed7cc9505f358078fb8a58f7/0bc08/after_gatsby.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 20.945945945945947%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAEABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAECBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAcSgQD//xAAWEAEBAQAAAAAAAAAAAAAAAAAAEQH/2gAIAQEAAQUC1Vf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAXEAEBAQEAAAAAAAAAAAAAAAAAEQHR/9oACAEBAAE/Id8Up//aAAwDAQACAAMAAAAQg8//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAgEFAAAAAAAAAAAAAAABACERMUFxkaH/2gAIAQEAAT8QcUqnCtiODXycHU//2Q=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="output with different npm warnings"
        title=""
        src="/static/7363e04eed7cc9505f358078fb8a58f7/1c72d/after_gatsby.jpg"
        srcset="/static/7363e04eed7cc9505f358078fb8a58f7/a80bd/after_gatsby.jpg 148w,
/static/7363e04eed7cc9505f358078fb8a58f7/1c91a/after_gatsby.jpg 295w,
/static/7363e04eed7cc9505f358078fb8a58f7/1c72d/after_gatsby.jpg 590w,
/static/7363e04eed7cc9505f358078fb8a58f7/a8a14/after_gatsby.jpg 885w,
/static/7363e04eed7cc9505f358078fb8a58f7/fbd2c/after_gatsby.jpg 1180w,
/static/7363e04eed7cc9505f358078fb8a58f7/0bc08/after_gatsby.jpg 1436w"
        sizes="(max-width: 590px) 100vw, 590px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span></p>
<p>No longer do I have the “friendly-errors-webpack-plugin” warning, but rather I have a fresh set of warnings related to graphql. I am stuck in dependency hell.</p></div></div></div><div class="positions"><div class="bio"><p><img class="bio-pic" src="https://s3-us-west-2.amazonaws.com/russelljanderson-dev/static/bear.jpg" alt="Russell J. Anderson"/></p><p>I am a Software Engineer and consultant in Nashville, Tennessee. I love my family, my church, the local sports teams, and adverbs.</p><blockquote class="main_quote">Perfection is achieved, not when there is nothing more to add, but when there is nothing left to take away.<br/><br/><span class="right">— Antoine de Saint-Exupéry</span></blockquote></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/dependency-hell/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-b381e0532b41335054cf.js\"],\"component---cache-caches-gatsby-plugin-offline-app-shell-js\":[\"/component---cache-caches-gatsby-plugin-offline-app-shell-js-9c7bde617f9cc80f3440.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-71db21d7053b5ca3981a.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-cd6095386bdd52abd418.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="5b9d101b9778ebe2a3aa";</script><script src="/webpack-runtime-1cfae51b015a5d77143b.js" async></script><script src="/framework-e1152202cade4393e12e.js" async></script><script src="/app-b381e0532b41335054cf.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>